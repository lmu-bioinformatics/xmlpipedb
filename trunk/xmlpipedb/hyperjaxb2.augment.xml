<?xml version="1.0"?>
<project name="hyperjaxb2.augment" default="hyperjaxb2.augment">
	<property file="jaxbcommons.properties"/>
	<!-- ... -->
	<import file="hyperjaxb2.paths.xml"/>
	<import file="${jaxbcommons.augment.xml.file}"/>
	<!-- ... -->
	<target name="hyperjaxb2.move.hibernate.mapping">
		<delete dir="${hyperjaxb2.hbm.dir}"/>
		<mkdir dir="${hyperjaxb2.hbm.dir}"/>
		<move todir="${hyperjaxb2.hbm.dir}">
			<fileset dir="${jaxbcommons.generated.src.dir}">
				<include name="**/*.hbm.xml"/>
			</fileset>
		</move>
	</target>
	<!-- ... -->
	<target name="hyperjaxb2.export.schema">
	<!-- ... -->
		<path id="hyperjaxb2.db.path">
			<path refid="pgdb.path"/>
		</path>
		<path id="hyperjaxb2.export.schema.classpath">
			<path refid="hyperjaxb2.runtime.classpath"/>
			<path refid="hyperjaxb2.db.path"/>
			<pathelement location="${jaxbcommons.generated.classes.dir}"/>
		</path>

		<taskdef name="hyperjaxb2.export.schema" classname="org.hibernate.tool.hbm2ddl.SchemaExportTask" classpathref="hyperjaxb2.export.schema.classpath"/>
		<delete dir="${hyperjaxb2.sql.dir}"/>
		<mkdir dir="${hyperjaxb2.sql.dir}"/>
		<hyperjaxb2.export.schema properties="${hyperjaxb2.export.schema.properties.file}" quiet="${hyperjaxb2.export.schema.quiet}" 
			text="${hyperjaxb2.export.schema.text}" drop="${hyperjaxb2.export.schema.drop}" delimiter="${hyperjaxb2.export.schema.delimiter}" 
			output="${hyperjaxb2.sql.dir}/schema.sql">
			<fileset dir="${hyperjaxb2.hbm.dir}">
				<include name="**/*.hbm.xml"/>
			</fileset>
		</hyperjaxb2.export.schema>
	</target>

	<target name="hyperjaxb2.augment" depends="jaxbcommons.augment, hyperjaxb2.move.hibernate.mapping, hyperjaxb2.export.schema"/>
</project>